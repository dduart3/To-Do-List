(()=>{var e={798:function(e,t,r){e=r.nmd(e),function(r,n){"use strict";var o={};r.PubSub=o,function(e){var t={},r=-1;function n(e,t,r){try{e(t,r)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function o(e,t,r){e(t,r)}function i(e,r,i,s){var c,a=t[r],l=s?o:n;if(Object.prototype.hasOwnProperty.call(t,r))for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&l(a[c],e,i)}function s(e){var r=String(e);return Boolean(Object.prototype.hasOwnProperty.call(t,r)&&function(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}(t[r]))}function c(e,t,r,n){var o=function(e,t,r){return function(){var n=String(e),o=n.lastIndexOf(".");for(i(e,e,t,r);-1!==o;)o=(n=n.substr(0,o)).lastIndexOf("."),i(e,n,t,r);i(e,"*",t,r)}}(e="symbol"==typeof e?e.toString():e,t,n);return!!function(e){for(var t=String(e),r=s(t)||s("*"),n=t.lastIndexOf(".");!r&&-1!==n;)n=(t=t.substr(0,n)).lastIndexOf("."),r=s(t);return r}(e)&&(!0===r?o():setTimeout(o,0),!0)}e.publish=function(t,r){return c(t,r,!1,e.immediateExceptions)},e.publishSync=function(t,r){return c(t,r,!0,e.immediateExceptions)},e.subscribe=function(e,n){if("function"!=typeof n)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var o="uid_"+String(++r);return t[e][o]=n,o},e.subscribeAll=function(t){return e.subscribe("*",t)},e.subscribeOnce=function(t,r){var n=e.subscribe(t,(function(){e.unsubscribe(n),r.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)&&delete t[r]},e.countSubscriptions=function(e){var r,n,o=0;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)){for(n in t[r])o++;break}return o},e.getSubscriptions=function(e){var r,n=[];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e)&&n.push(r);return n},e.unsubscribe=function(r){var n,o,i,s="string"==typeof r&&(Object.prototype.hasOwnProperty.call(t,r)||function(e){var r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&0===r.indexOf(e))return!0;return!1}(r)),c=!s&&"string"==typeof r,a="function"==typeof r,l=!1;if(!s){for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(o=t[n],c&&o[r]){delete o[r],l=r;break}if(a)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&o[i]===r&&(delete o[i],l=!0)}return l}e.clearSubscriptions(r)}}(o),void 0!==e&&e.exports&&(t=e.exports=o),t.PubSub=o,e.exports=t=o}("object"==typeof window&&window||this)}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{"use strict";const e=r.p+"assets/images/aa0b3bec86773faccc9fe5ab956c75a7.svg";var t=r(798),n=r.n(t);for(var o,i=256,s=[];i--;)s[i]=(i+256).toString(16).substring(1);function c(e){var t=0,r=e||11;if(!o||i+r>512)for(o="",i=0;t<256;t++)o+=s[256*Math.random()|0];return o.substring(i,i+++r)}(()=>{const e="PROJECTS_UPDATED",t="PROJECTS_INITIALIZED",r="GET_ACTUAL_PROJECT",o="GET_CURRENT_PROJECTS",i=[],s={name:"PROJECTS",item:i},a=(()=>{let e,t,i;const s=t=>e=t,c=()=>e,l=e=>t=e,u=()=>t;return{setActualProject:s,getActualProject:c,setPreviousProject:l,getPreviousProject:u,toggleActiveProject:(e,t)=>{u()&&c()&&c()!=t||!u()&&c()&&c!=t?(l(c()),s(t),i={previousProject:u(),actualProject:c()},n().publish(r,a.getActualProject()),n().publish(o,i)):c()||(s(t),i={actualProject:c()},n().publish(r,a.getActualProject()),n().publish(o,i))}}})(),l=(t,{name:r,tasksType:o})=>{const c=(({name:e,tasksType:t})=>{const r=[],n=e=>r.find((t=>t.UID===e)),o=e=>r.indexOf(n(e));return{name:e,tasks:r,tasksType:t,addTask:e=>{const t=(({UID:e,title:t,description:r,dueDate:n,priority:o})=>({UID:e,title:t,description:r,dueDate:n,priority:o}))(e);r.push(t)},editTask:(e,t,i)=>{const s=n(e),c=o(e);s[t]=i,r[c]=s},removeTask:e=>{const t=o(e);r.splice(t,1)}}})({name:r,tasksType:o});i.push(c),n().publish(e,s)},u=e=>i.find((t=>t.name==e)),p=(t,{projectName:r,task:o})=>{u(r).addTask(o),n().publish(e,s)};n().subscribe("STORED_PROJECTS",((e,r)=>{null!=r?(r.map((e=>{l(0,{name:e.name,tasksType:e.tasksType}),e.tasks.map((t=>{p(0,{projectName:e.name,task:t})}))})),n().publish(t,i)):(l(0,{name:"Home",tasksType:"ToDo"}),l(0,{name:"DummieProject",tasksType:"ToDo"}),l(0,{name:"TestProject",tasksType:"ToDo"}),p(0,{projectName:"Home",task:{UID:c(),title:"eat",description:"i need to eat to live",dueDate:"2021-01-30",priority:"High"}}),p(0,{projectName:"Home",task:{UID:c(),title:"sleep",description:"i also need to sleep to live",dueDate:"2021-01-20",priority:"High"}}),p(0,{projectName:"Home",task:{UID:c(),title:"play halo",description:"i really need to rank in halo to live",dueDate:"2021-01-20",priority:"High"}}),n().publish(t,i))})),n().subscribe("TASK_ADDED",p),n().subscribe("PROJECT_ADDED",l),n().subscribe("TASK_REMOVED",((t,{projectName:r,taskUID:o})=>{u(r).removeTask(o),n().publish(e,s)})),n().subscribe("PROJECT_REMOVED",((t,r)=>{const o=u(r),c=i.filter((e=>e!==o));i.splice(0,i.length),c.map((e=>i.push(e))),n().publish(e,s)})),n().subscribe("UPDATE_ACTUAL_PROJECT",a.toggleActiveProject),n().subscribe("GET_PROJECT_TASKS",((e,t)=>{const r=u(t).tasks;n().publish("PROJECT_TASKS",r)}))})();const a=({elementType:e,elementClass:t,elementContent:r,elementSource:n,elementHref:o,elementId:i,elementName:s,eventListener:c,inputType:a})=>{const l=document.createElement(e);return t&&((e,t)=>{t.split(",").map((t=>e.classList.add(t)))})(l,t),r&&(l.textContent=r),n&&l.setAttribute("src",n),o&&l.setAttribute("href",o),a&&l.setAttribute("type",a),s&&l.setAttribute("name",s),i&&(l.id=i),c&&l.addEventListener(c.type,c.function),l};let l;const u=document.querySelector("#description-modal"),p=document.querySelector(".modal__content"),d=e=>{e.target==u&&u.classList.add("hidden")},m=e=>{let t;return"Low"==e?t="low-priority":"Medium"==e?t="medium-priority":"High"==e?t="high-priority":console.error("The priority attribute it's invalid"),t};n().subscribe("GET_ACTUAL_PROJECT",((e,t)=>{l=t}));const b=({id:e,title:t,description:r,dueDate:o,priority:i})=>{const s=a({elementType:"div",elementClass:"task",elementId:e}),c=a({elementType:"input",inputType:"checkbox",eventListener:{type:"click",function:()=>{s.style.display="none",n().publish("TASK_REMOVED",{projectName:l,taskUID:e})}}}),b=a({elementType:"div",elementClass:"task__wrapper"}),y=a({elementType:"p",elementClass:"task__title",elementContent:t}),T=a({elementType:"p",elementClass:"task__description",elementContent:"Click to see",eventListener:{type:"click",function:e=>{var t;t=r,p.textContent=t,u.classList.remove("hidden"),u.addEventListener("click",d)}}}),f=a({elementType:"p",elementClass:"task__date",elementContent:o}),h=a({elementType:"p",elementClass:m(i),elementContent:i});return b.appendChild(y),b.appendChild(T),b.appendChild(f),b.appendChild(h),s.appendChild(c),s.appendChild(b),s};(()=>{const e="GET_ACTUAL_PROJECT",t=(()=>{let e;return{set:(t,r)=>{e=r},get:()=>e}})(),r=e=>e.classList.remove("hidden"),o=e=>e.classList.add("hidden"),i=e=>{e.target==e.currentTarget&&o(e.currentTarget)},s=(()=>{const e=document.querySelector(".projects"),t=document.querySelector(".project__title"),r=document.querySelector(".project__content"),n=(document.querySelector(".project__tasks-header"),e=>{r.appendChild(e)}),o=t=>{const r=(({title:e})=>{const t=a({elementType:"div",elementClass:"projects__task",elementId:e}),r=a({elementType:"p",elementContent:e}),n=a({elementType:"div",elementClass:"projects__delete-button",elementContent:"x",eventListener:{type:"click",function:r=>{r.preventDefault(),t.style.display="none",PubSub.publish("PROJECT_REMOVED",e)}}});return t.appendChild(n),t.appendChild(r),t})({title:t.name});r.addEventListener("click",(e=>{e.preventDefault();const t=r.id,n=r.children[0];e.target!==n&&l(t)})),(t=>{e.appendChild(t)})(r)},i=e=>{n(b({id:e.UID,title:e.title,description:e.description,dueDate:e.dueDate,priority:e.priority}))};return{setProjectTitle:(e,r)=>{t.textContent=r},addTaskToProject:n,renderProject:o,renderProjectList:e=>{e.map(o)},renderTask:i,renderProjectTasks:(e,t)=>{r.innerHTML="",t.map(i)}}})(),l=((()=>{const e=document.querySelector("#add-task"),a=document.querySelector("#add-task-modal"),l=document.querySelector("#add-task-modal-button"),u=document.querySelector("#task-title"),p=document.querySelector("#task-description"),d=document.querySelector("#task-date");e.addEventListener("click",(e=>{r(a),(()=>{const e=(new Date).toISOString().slice(0,10);d.setAttribute("min",e)})(),a.addEventListener("click",i)})),a.addEventListener("click",i),l.addEventListener("click",(()=>{const e=document.querySelector('input[name="priority"]:checked'),r={UID:c(),title:u.value,description:p.value,dueDate:d.value,priority:e.value},i={projectName:t.get(),task:r};n().publish("TASK_ADDED",i),s.renderTask(r),u.value="",p.value="",d.value="",o(a)}))})(),(()=>{const e=document.querySelector("#add-project"),t=document.querySelector("#add-project-modal"),c=document.querySelector("#add-project-modal-button"),a=document.querySelector("#project-title");e.addEventListener("click",(()=>{r(t)})),t.addEventListener("click",i),c.addEventListener("click",(()=>{const e={name:a.value,tasksType:"ToDo"};n().publish("PROJECT_ADDED",e),s.renderProject(e),a.value="",o(t)}))})(),e=>{n().publish("UPDATE_ACTUAL_PROJECT",e),n().publish("GET_PROJECT_TASKS",e)});n().subscribe(e,t.set),n().subscribe("PROJECTS_INITIALIZED",((e,t)=>{if(t.length>0){const e=t[0].name,r=t;s.renderProjectList(r),l(e)}})),n().subscribe("GET_CURRENT_PROJECTS",((e,t)=>{const r="project--active";if(t)if(t.previousProject&&t.actualProject){const e=document.querySelector(`#${t.previousProject}`),n=document.querySelector(`#${t.actualProject}`);e.classList.toggle(r),n.classList.toggle(r)}else t.actualProject&&document.querySelector(`#${t.actualProject}`).classList.toggle(r)})),n().subscribe(e,s.setProjectTitle),n().subscribe("PROJECT_TASKS",s.renderProjectTasks)})(),(()=>{const e=window.localStorage;n().publish("STORED_PROJECTS",("PROJECTS",JSON.parse(e.getItem("PROJECTS")))),n().subscribe("PROJECTS_UPDATED",((t,r)=>{const{name:n,item:o}=r,i=JSON.stringify(o);e.setItem(n,i)}))})(),document.querySelector("img").src=e})()})();
//# sourceMappingURL=bundle.2dff148983290c3400b6.js.map